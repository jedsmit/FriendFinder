<!DOCTYPE html>

<head>
    <meta charset="utf-8">

    <title>Survey</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="">
</head>

<body>
    <div class="container-fluid bg-dark text-light">
        <h1>The Survey</h1>
        <p>Rate how much you agree with each statement. 5 means you couldn't agree more. 1 means you couldn't agree
            less. When you're done, click the submit button and clench your buttcheeks.
            You're about to meet your new best friend.</p>
        <form id="survey">

            <!--Name Field-->
            <div class="form-group">
                <label for="name">Enter your name</label>
                <input class="form-control" type="text" placeholder="name" id="name">
                </input>
            </div>
            <div class="form-group">
                <label for="photo">Copy photo URL here</label>
                <input class="form-control" type="text" placeholder="url" id="photo">
                </input>
            </div>
            <!--Question 1-->

            <div class="form-group" id="q1">
                <p>Goats are the most hilarious of all domestic mammals.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question1" id="q1-1" value="1">
                    <label class="form-check-label" for="q1-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question1" id="q1-2" value="2">
                    <label class="form-check-label" for="q1-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question1" id="q1-3" value="3">
                    <label class="form-check-label" for="q1-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question1" id="q1-4" value="4">
                    <label class="form-check-label" for="q1-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question1" id="q1-5" value="5">
                    <label class="form-check-label" for="q1-5">5</label>
                </div>
            </div>

            <!--Question 2-->

            <div class="form-group">
                <p>Social media is stupid.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question2" id="q2-1" value="1">
                    <label class="form-check-label" for="q2-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question2" id="q2-2" value="2">
                    <label class="form-check-label" for="q2-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question2" id="q2-3" value="3">
                    <label class="form-check-label" for="q2-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question2" id="q2-4" value="4">
                    <label class="form-check-label" for="q2-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question2" id="q2-5" value="5">
                    <label class="form-check-label" for="q2-5">5</label>
                </div>
            </div>

            <!--Question 3-->
            <div class="form-group">
                <p>When you gotta go, you gotta go. Pooping in a public restroom is ok.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question3" id="q3-1" value="1">
                    <label class="form-check-label" for="q3-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question3" id="q3-2" value="2">
                    <label class="form-check-label" for="q3-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question3" id="q3-3" value="3">
                    <label class="form-check-label" for="q3-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question3" id="q3-4" value="4">
                    <label class="form-check-label" for="q3-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question3" id="q3-5" value="5">
                    <label class="form-check-label" for="q3-5">5</label>
                </div>
            </div>

            <!--Question 4-->

            <div class="form-group">
                <p>Michael Keaton was the best Batman.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question4" id="q4-1" value="1">
                    <label class="form-check-label" for="q4-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question4" id="q4-2" value="2">
                    <label class="form-check-label" for="q4-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question4" id="q4-3" value="3">
                    <label class="form-check-label" for="q4-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question4" id="q4-4" value="4">
                    <label class="form-check-label" for="q4-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question4" id="q4-5" value="5">
                    <label class="form-check-label" for="q4-5">5</label>
                </div>
            </div>

            <!--Question 5-->

            <div class="form-group">
                <p>"Twin Peaks: The Return" is a work of unparalleled genius.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question5" id="q5-1" value="1">
                    <label class="form-check-label" for="q5-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question5" id="q5-2" value="2">
                    <label class="form-check-label" for="q5-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question5" id="q5-3" value="3">
                    <label class="form-check-label" for="q5-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question5" id="q5-4" value="4">
                    <label class="form-check-label" for="q5-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question5" id="q5-5" value="5">
                    <label class="form-check-label" for="q5-5">5</label>
                </div>
            </div>

            <!--Question 6-->

            <div class="form-group">
                <p>Star Trek is superior to Star Wars in every conceiveable way.</p>
                <!--radio buttons 1 through 5-->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question6" id="q6-1" value="1">
                    <label class="form-check-label" for="q6-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question6" id="q6-2" value="2">
                    <label class="form-check-label" for="q6-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question6" id="q6-3" value="3">
                    <label class="form-check-label" for="q6-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question6" id="q6-4" value="4">
                    <label class="form-check-label" for="q6-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question6" id="q6-5" value="5">
                    <label class="form-check-label" for="q6-5">5</label>
                </div>
            </div>

            <!-- Question 7 -->

            <div class="form-group">
                <p>Indian buffets are the best buffets.</p>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question7" id="q7-1" value="1">
                    <label class="form-check-label" for="q7-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question7" id="q7-2" value="2">
                    <label class="form-check-label" for="q7-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question7" id="q7-3" value="3">
                    <label class="form-check-label" for="q7-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question7" id="q7-4" value="4">
                    <label class="form-check-label" for="q7-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question7" id="q7-5" value="5">
                    <label class="form-check-label" for="q7-5">5</label>
                </div>
            </div>

            <!--Question 8-->

            <div class="form-group">
                <p>Quality over quantity.</p>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question8" id="q8-1" value="1">
                    <label class="form-check-label" for="q8-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question8" id="q8-2" value="2">
                    <label class="form-check-label" for="q8-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question8" id="q8-3" value="3">
                    <label class="form-check-label" for="q8-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question8" id="q8-4" value="4">
                    <label class="form-check-label" for="q8-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question8" id="q8-5" value="5">
                    <label class="form-check-label" for="q8-5">5</label>
                </div>
            </div>

            <!--Question 9-->

            <div class="form-group">
                <p>"Don't Stop Me Now" is the best Queen song.</p>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question9" id="q9-1" value="1">
                    <label class="form-check-label" for="q9-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question9" id="q9-2" value="2">
                    <label class="form-check-label" for="q9-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question9" id="q9-3" value="3">
                    <label class="form-check-label" for="q9-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question9" id="q9-4" value="4">
                    <label class="form-check-label" for="q9-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question9" id="q9-5" value="5">
                    <label class="form-check-label" for="q9-5">5</label>
                </div>
            </div>

            <!--Question 10-->

            <div class="form-group">
                <p>Goat cheese is gross because it tastes exactly like how goats smell.</p>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question10" id="q10-1" value="1">
                    <label class="form-check-label" for="q10-1">1</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question10" id="q10-2" value="2">
                    <label class="form-check-label" for="q10-2">2</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question10" id="q10-3" value="3">
                    <label class="form-check-label" for="q10-3">3</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question10" id="q10-4" value="4">
                    <label class="form-check-label" for="q10-4">4</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="question10" id="q10-5" value="5">
                    <label class="form-check-label" for="q10-5">5</label>
                </div>
            </div>
            <!--Submit Button-->
            <div class="btn btn-danger btn-large mb-5" id="submit">Submit</div>

        </form>

        <!--Modal-->
        <div id="bff-modal" class="modal fade" role="dialog">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal">

                        </button>
                        <h2 style="width:600px;" class="modal-title text-dark"><strong>Your BFF is...</strong></h2>
                    </div>

                    <div class="modal-body text-dark">
                        <h2 id="bff-name"></h2>
                        <img class="image-fluid" id="bff-image" style="max-width:450px;max-height:450px;" src=""
                            alt="Bff image" />
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-primary" data-dismiss="modal">
                            Close
                        </button>
                    </div>
                </div>
            </div>

        </div>


        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
            integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
            integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
            crossorigin="anonymous"></script>
</body>

</html>

<script type="text/javascript">


    $("#submit").on("click", function () {
        event.preventDefault();

        function validateForm() {
            var isValid = true;
            $(".form-control").each(function () {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });
            $(".form-check-input").each(function () {
                if ($(this).val() === "") {
                    isValid = false;
                }
            });
            return isValid;
        }
        if (validateForm()) {
            var newUser = {
                name: $("#name").val().trim(),
                photo: "",
                scores: [
                    $('input[name=question1]:checked', '#survey').val(),
                    $('input[name=question2]:checked', '#survey').val(),
                    $('input[name=question3]:checked', '#survey').val(),
                    $('input[name=question4]:checked', '#survey').val(),
                    $('input[name=question5]:checked', '#survey').val(),
                    $('input[name=question6]:checked', '#survey').val(),
                    $('input[name=question7]:checked', '#survey').val(),
                    $('input[name=question8]:checked', '#survey').val(),
                    $('input[name=question9]:checked', '#survey').val(),
                    $('input[name=question10]:checked', '#survey').val()
                ],
            };



            $.post("/api/friends", newUser, function (data) {

                $("#bff-image").attr("src", data.photo);
                $("#bff-name").text(data.name + "!");
                $('#bff-modal').modal("toggle");

            });
        } else {
            alert("Please complete all fields.")
        };
    });
</script>